<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jQuery TOAD</title>
    <link rel="icon" href="images/jquery-toad-icon.png">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@4.1.2/dist/css/bootstrap.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css">
    <link rel="stylesheet" href="https://unpkg.com/highlightjs@9.10.0/styles/github-gist.css">
    <link rel="stylesheet" href="style/toad.css">
    <script>
      var __TOAD__ = 'TOAD';
      
    </script>
  </head>
  <body data-controller="main">
    <main role="main">
      <div class="container">
        <div class="toad-main-box bg-light border-dark">
          <div class="toad-logo-box"><img class="img-fluid" src="images/jquery-toad-logo.png" alt="Logo jQuery TOAD"></div>
          <nav class="navbar navbar-expand-lg navbar-dark bg-dark"><a class="navbar-brand" href="index.html">Home</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Alterna navegação"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="main-menu">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active"><a class="nav-link" href="motivacao.html">Qual a motivação?</a></li>
                <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="submenu-documentacao" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentação</a>
                  <div class="dropdown-menu" aria-labelledby="submenu-documentacao">
                    <h6 class="dropdown-header">TUTORIAIS</h6><a class="dropdown-item" href="tutorial-quickstart.html">Guia de início rápido</a>
                    <div class="dropdown-divider"></div>
                    <h6 class="dropdown-header">CONCEITOS</h6><a class="dropdown-item" href="conceito-variavel-toad.html">A variável <kbd>__TOAD__</kbd></a><a class="dropdown-item" href="conceito-modulo.html">Modularização</a><a class="dropdown-item" href="conceito-mvc.html">O padrão MVC</a><a class="dropdown-item" href="conceito-componente.html">Componentes</a><a class="dropdown-item" href="conceito-utilitario.html">Utilitários</a>
                  </div>
                </li>
              </ul>
            </div>
          </nav>
          <div class="toad-content-box col-md-10 offset-md-1">
            <h1 class="display-4 text-center">O padrão MVC</h1>
            <blockquote class="blockquote">
              Não vou aqui tentar explicar o que é o padrão MVC em si. Você pode saber mais aqui na 
              <a href="https://pt.wikipedia.org/wiki/MVC" target="_blank">Wikipédia</a>.
              Aqui eu só vou fazer alguns comentários e mostrar como usamos esse padrão em nossas
              aplicações jQuery com o auxílio da jQuery TOAD.
            </blockquote>
            <p class="lead">
              Quem programa para back-end primariamente e desenvolve front-end só <i>de vez em quando</i>,
              vai tentar relacionar imediatamente o assunto com o que sabe do seu Framework MVC preferido,
              ASP.NET MVC para os de .NET, Sprint MVC para os de Java, Laravel para os de PHP, e etc.
            </p>
            <p class="lead">É bom já conhecer do assunto, mas ao mesmo tempo, cuidado para não confundir as coisas.</p>
            <p class="lead">
              O que queremos apresentar aqui é a base de tudo, a essência, e como podemos adotar o padrão MVC
              para separar as responsabilidades de nossa aplicação jQuery.
            </p>
            <blockquote class="blockquote">
              Uma outra coisa que vale à pena ressaltar é que: Quando falamos em desenvolvimento front-end,
              e mencionamos o padrão MVC, se lembra logo dos frameworks/bibliotecas de SPA, como Angular,
              VueJS e Ember.
              Mas não estamos falando de SPA aqui. Esses Frameworks/bibliotecas tem muito mais recursos além
              do MVC que proporcionam o desenvolvimento de aplicações SPA ricas. E muitas pessoas usam os
              recursos sem por vezes nunca ter entendido o que é MVC na prática, e não saberiam desenvolver
              uma aplicação front-end só com jQuery ou com puro JavaScript e organizar sua arquitetura seguindo
              o padrão MVC.
            </blockquote>
            <h2>Um pouco de teoria</h2>
            <p class="lead">Você pode desenvolver uma aplicação usando o padrão MVC sem precisar de um Framework para isso.</p>
            <p class="lead">
              Visto que o MVC é um padrão de arquitetura que se utiliza do modelo em camadas para organizar
              suas peças, e que define explicitamente 3 (três camadas), são elas:
            </p>
            <ul class="lead font-weight-bold">
              <li>Model (modelo)</li>
              <li>View (visão)</li>
              <li>Controller (controlador)</li>
            </ul>
            <p class="lead">O desenho que melhor representa o modelo ao meu ver é esse:</p><img class="img-fluid img-thumbnail rounded mx-auto d-block" src="images/mvc.png" alt="MVC">
            <p class="lead">
              Aqui o mais importante não é você saber em que camada fica o código que o usuário vê (view)
              ou onde ficam seus objetos de modelo (model), e etc.
              O mais importante é você saber como as camadas interagem entre si.
            </p>
            <p class="lead">Esteja atento as setas:</p><img class="img-fluid img-thumbnail rounded" src="images/mvc_seta_atualiza.png">
            <p class="lead">
              Essa seta indica que uma camada é a responsável por atualizar o conteúdo de outra camada.
              Em outras palavras, tem o controle da outra camada (por isso a seta sólida).
            </p><img class="img-fluid img-thumbnail rounded" src="images/mvc_seta_notifica.png">
            <p class="lead">
              Essa seta indica que uma camada é responsável por notificar ações e mudanças que ocorreram
              em seu conteúdo a outra camada. E que não conhece nem tem controle sobre a outra (por isso
              a seta tracejada).
            </p>
            <p class="lead">Vejamos então as responsabilidade de cada camada:</p>
            <h3 class="text-monospace">Model</h3>
            <p class="lead">
              A camada de modelo é a responsável por notificar a camada <strong>Controller</strong>
              de qualquer mudança em seu conteúdo.
              <i>Essa é controlada exclusivamente pela camada <strong>Controller</strong></i>.
            </p>
            <h3 class="text-monospace">View</h3>
            <p class="lead">
               A camada de visão é a responsável por notificar a camada <strong>Controller</strong>
              de qualquer interação em seu conteúdo.
              <i>Essa é controlada exclusivamente pela camada <strong>Controller</strong></i>.
            </p>
            <h3 class="text-monospace">Controller</h3>
            <p class="lead">
               A camada de controle é a responsável por atualizar a camada <strong>Model</strong>
              e <strong>View</strong>.
              Também é a responsável por direcionar o fluxo entre as interações na camada de visão
              e as mudanças na camada de modelo. Em outras palavras: <i>"Controla o fluxo de tudo"</i>.
            </p>
            <h2>De que vale essa teoria?</h2>
            <p class="lead">
              Sei que a teoria apresentada na seção anterior, parece um pouco mais do <i>de sempre</i>.
              Mas eu só queria deixar nessa mesma página, essas definições e essa imagem simples para
              que possamos extrair o que realmente interessa à partir desse ponto.
            </p>
            <p class="lead">
              Essa teoria não serve de nada se você não consegue aplicá-la em seus projetos.
              E você consegue usar MVC em projetos jQuery e/ou JavaScript puro se simplesmente
              <strong>não violar as regras que o MVC impõe</strong>.
            </p>
            <h3 class="text-monospace">E que regras são essas?</h3>
            <p class="lead">
              <strong>Regra 1:</strong> Um modelo não atualiza a visão quando sofre alteração. Ao invés disso, notifica
              o controlador para que ele decida o que fazer.
            </p>
            <p class="lead">
              <strong>Regra 2:</strong> Uma visão não altera o estado do modelo quando o usuário interage pedindo isso.
              Ao invés disso, notifica o controlador para que ele decida o que fazer.
            </p>
            <p class="lead">
              Vamos pegar um exemplo bem simples e mostrar como seria construí-lo <i><strong>quebrando as regras
               do MVC</strong></i>, e como seria construí-lo <i><strong>NÃO quebrando as regras do MVC</strong></i>.
            </p>
            <p class="lead">
              O exemplo é esse, um formulário com um campo para você informar um nome de usuário do GitHub, e uma
              imagem que mostra o avatar do usuário no GitHub. A lógica é: sempre que ouver interação com o campo
              do nome do usuário, a parte de visão do avatar seja atualizado pra condizer a informação.
            </p>
            <div data-gui="demo" data-file-path="samples/snippets/mvc/mvc-github-avatar-without-mvc.html"></div>
            <p class="lead">
              Você que já conhece e usa jQuery no seu dia-a-dia, sabe que consegue construir essa funcionalidade
              facilmente com um código parecido com esse:
            </p>
            <div data-gui="code-block" data-lang="html" data-file-path="samples/snippets/mvc/mvc-github-avatar-without-mvc-clean.html"></div>
          </div>
        </div>
      </div>
    </main>
    <footer class="text-secondary bg-light border-dark toad-footer-box">
      <div class="container">
        <p class="lead text-center" data-gui="copyright"></p>
        <div class="my-2 my-lg-0 text-center"><a class="btn btn-secondary" target="_blank" href="https://github.com/e5r/jquery-toad" role="button" title="@e5r/jquery-toad"><i class="fab fa-github"></i></a>&nbsp;<a class="btn btn-info" target="_blank" href="https://erlimar.wordpress.com" role="button" title="erlimar.wordpress.com"><i class="fab fa-wordpress-simple"></i></a>&nbsp;<a class="btn btn-primary" target="_blank" href="https://twitter.com/erlimar" role="button" title="@erlimar"><i class="fab fa-twitter"></i></a>&nbsp;<a class="btn btn-danger" target="_blank" href="https://www.youtube.com/channel/UC6zPtVBfcAdkzq7-dpSlhdw" role="button" title="E5R Development Team"><i class="fab fa-youtube"></i></a>&nbsp;
        </div>
      </div>
    </footer>
    <script src="https://unpkg.com/jquery@3.3.1/dist/jquery.js"></script>
    <script src="https://unpkg.com/bootstrap@4.1.2/dist/js/bootstrap.js"></script>
    <script src="https://unpkg.com/highlightjs@9.10.0/highlight.pack.js"></script>
    <script src="https://unpkg.com/jquery-toad/dist/jquery-toad.js"></script>
    <script src="app/components/code-block-component.js"></script>
    <script src="app/components/copyright-component.js"></script>
    <script src="app/components/demo-component.js"></script>
    <script src="app/controllers/main-controller.js"></script>
  </body>
</html>